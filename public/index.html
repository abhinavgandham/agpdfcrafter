<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PDF Converter</title>
    <link rel="stylesheet" href="styles.css">
    <script src="login.js" defer></script>
    <script src="register.js" defer></script>
    <script src="upload.js" defer></script>
    <script src="convert.js" defer></script>
    <script src="download.js" defer></script>
    <script src="logout.js" defer></script>
</head>

<body>
    <h1 style="text-align: center;">Login</h1>
    
    <!-- Toggle buttons -->
    <div class="auth-toggle">
        <button id="showLoginBtn" onclick="showLoginView()" class="toggle-btn active">Login</button>
        <button id="showRegisterBtn" onclick="showRegisterView()" class="toggle-btn">Register</button>
    </div>

    <!-- Registration Form -->
    <div class="register-container" style="display: none;">
        <form id="registerForm" action="/register" method="post">
            <label for="regUsername">Username</label>
            <input type="text" id="regUsername" name="username" required>
            <label for="regEmail">Email</label>
            <input type="email" id="regEmail" name="email" required>
            <label for="regFullName">Full Name</label>
            <input type="text" id="regFullName" name="fullName">
            <label for="regPassword">Password</label>
            <input type="password" id="regPassword" name="password" required>
            <button type="submit">Register</button>
        </form>
        <div id="regMessage"></div>
    </div>

    <!-- Login Form -->
    <div class="login-container">
        <form id="loginForm" action="/login" method="post">
            <label for="loginUsername">Username</label>
            <input type="text" id="loginUsername" name="username" required>
            <label for="loginPassword">Password</label>
            <input type="password" id="loginPassword" name="password" required>
            <button type="submit">Login</button>
        </form>
        <div id="message"></div>
    </div>
    
    <!-- Current User Display (outside login container so it stays visible after login) -->
    <div id="currentUser" style="text-align: center; min-height: 20px; font-weight: bold; margin: 20px 0;"></div>
    <!-- File Upload Section -->
    <div class="section">
        <h2>üìÅ Upload File</h2>
        <div class="file-upload-area" id="uploadArea">
            <p>Drag and drop your file here or click to browse</p>
            <p><strong>Supported formats:</strong> HTML, DOCX, MD</p>
            <p><strong>Maximum size:</strong> 100MB</p>
            <input type="file" id="fileInput" class="file-input" accept=".html,.docx,.md">
            <button class="upload-btn" onclick="openFilePicker()">
                Choose File
            </button>
        </div>

        <div class="file-info" id="fileInfo" style="display: none;">
            <h4>Selected File:</h4>
            <p><strong>Name:</strong> <span id="fileName"></span></p>
            <p><strong>Size:</strong> <span id="fileSize"></span></p>
            <p><strong>Type:</strong> <span id="fileType"></span></p>
        </div>

        <button class="upload-btn" id="uploadBtn" onclick="upload()" disabled>
            Upload File
        </button>

        <div id="uploadMessage" class="message-area"></div>
    </div>

    <!-- File Conversion Section -->
    <div class="section">
        <h2>üîÑ Convert to PDF</h2>
        <p>Once you've uploaded a file, you can convert it to PDF format.</p>
                 <button class="convert-btn" id="convertBtn" disabled>
             Convert to PDF
         </button>

        <div class="progress-bar" id="progressBar">
            <div class="progress-fill" id="progressFill"></div>
        </div>

        <div id="convertMessage"></div>
    </div>

    <!-- Download Section -->
    <div class="section download-section">
        <h2>‚¨áÔ∏è Download PDF</h2>
        <div id="downloadLink"></div>
        <div id="downloadMessage"></div>
    </div>
    <!-- Jobs section -->
    <div id="jobs">    
    </div>
    <!-- Jobs and users display area -->
    <div id="InformationDisplayArea">

    </div>
</body>
<script>
</script>
</html>